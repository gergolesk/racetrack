{"ast":null,"code":"var _jsxFileName = \"/home/georg/kood/racetrack/src/front/pages/RaceCountdownPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport CountdownModal from \"./components/CountdownModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RaceCountdownPage = ({\n  socket\n}) => {\n  _s();\n  const [showCountdown, setShowCountdown] = useState(false);\n  const [countdownStart, setCountdownStart] = useState(null);\n  useEffect(() => {\n    if (socket) {\n      socket.on('start_countdown', data => {\n        console.log('Starting countdown with:', data);\n        setCountdownStart(data.start);\n        setShowCountdown(true);\n      });\n      socket.on('stop_countdown', () => {\n        console.log('Stopping countdown');\n        setShowCountdown(false);\n      });\n      return () => {\n        socket.off('start_countdown');\n        socket.off('stop_countdown');\n      };\n    }\n  }, [socket]);\n  const handleCountdownFinish = () => {\n    console.log(\"Countdown finished!\");\n    setShowCountdown(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Race Countdown\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fullscreenDiv\",\n      style: {\n        backgroundColor: \"#000\"\n      },\n      children: showCountdown && /*#__PURE__*/_jsxDEV(CountdownModal, {\n        startCount: countdownStart || 5,\n        onCountdownFinish: handleCountdownFinish\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n_s(RaceCountdownPage, \"rJnQWGmTBwLBbcPkdp8NEeohCdA=\");\n_c = RaceCountdownPage;\nexport default RaceCountdownPage;\nvar _c;\n$RefreshReg$(_c, \"RaceCountdownPage\");","map":{"version":3,"names":["React","useEffect","useState","CountdownModal","jsxDEV","_jsxDEV","RaceCountdownPage","socket","_s","showCountdown","setShowCountdown","countdownStart","setCountdownStart","on","data","console","log","start","off","handleCountdownFinish","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","backgroundColor","startCount","onCountdownFinish","_c","$RefreshReg$"],"sources":["/home/georg/kood/racetrack/src/front/pages/RaceCountdownPage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport CountdownModal from \"./components/CountdownModal\";\n\nconst RaceCountdownPage = ({socket}) => {\n    const [showCountdown, setShowCountdown] = useState(false);\n    const [countdownStart, setCountdownStart] = useState(null);\n\n    useEffect(() => {\n        if (socket) {\n            socket.on('start_countdown', (data) => {\n                console.log('Starting countdown with:', data);\n                setCountdownStart(data.start);\n                setShowCountdown(true);\n            });\n\n            socket.on('stop_countdown', () => {\n                console.log('Stopping countdown');\n                setShowCountdown(false);\n            });\n\n            return () => {\n                socket.off('start_countdown');\n                socket.off('stop_countdown');\n            };\n        }\n    }, [socket]);\n\n    const handleCountdownFinish = () => {\n        console.log(\"Countdown finished!\");\n        setShowCountdown(false);\n    };\n\n    return (\n        <div>\n            <div>\n                Race Countdown\n            </div>\n            <div\n                className=\"fullscreenDiv\"\n                style={{backgroundColor: \"#000\"}}\n            >\n                {showCountdown && (\n                    <CountdownModal startCount={countdownStart || 5} onCountdownFinish={handleCountdownFinish}/>\n                )}</div>\n        </div>\n    );\n};\n\nexport default RaceCountdownPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,cAAc,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,iBAAiB,GAAGA,CAAC;EAACC;AAAM,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACS,cAAc,EAAEC,iBAAiB,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE1DD,SAAS,CAAC,MAAM;IACZ,IAAIM,MAAM,EAAE;MACRA,MAAM,CAACM,EAAE,CAAC,iBAAiB,EAAGC,IAAI,IAAK;QACnCC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,IAAI,CAAC;QAC7CF,iBAAiB,CAACE,IAAI,CAACG,KAAK,CAAC;QAC7BP,gBAAgB,CAAC,IAAI,CAAC;MAC1B,CAAC,CAAC;MAEFH,MAAM,CAACM,EAAE,CAAC,gBAAgB,EAAE,MAAM;QAC9BE,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;QACjCN,gBAAgB,CAAC,KAAK,CAAC;MAC3B,CAAC,CAAC;MAEF,OAAO,MAAM;QACTH,MAAM,CAACW,GAAG,CAAC,iBAAiB,CAAC;QAC7BX,MAAM,CAACW,GAAG,CAAC,gBAAgB,CAAC;MAChC,CAAC;IACL;EACJ,CAAC,EAAE,CAACX,MAAM,CAAC,CAAC;EAEZ,MAAMY,qBAAqB,GAAGA,CAAA,KAAM;IAChCJ,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;IAClCN,gBAAgB,CAAC,KAAK,CAAC;EAC3B,CAAC;EAED,oBACIL,OAAA;IAAAe,QAAA,gBACIf,OAAA;MAAAe,QAAA,EAAK;IAEL;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACNnB,OAAA;MACIoB,SAAS,EAAC,eAAe;MACzBC,KAAK,EAAE;QAACC,eAAe,EAAE;MAAM,CAAE;MAAAP,QAAA,EAEhCX,aAAa,iBACVJ,OAAA,CAACF,cAAc;QAACyB,UAAU,EAAEjB,cAAc,IAAI,CAAE;QAACkB,iBAAiB,EAAEV;MAAsB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAC9F;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAEd,CAAC;AAAChB,EAAA,CA3CIF,iBAAiB;AAAAwB,EAAA,GAAjBxB,iBAAiB;AA6CvB,eAAeA,iBAAiB;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}